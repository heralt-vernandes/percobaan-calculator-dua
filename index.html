<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Calculator</title>
  <link href="styles.css" rel="stylesheet">
  <script src="script.js" defer></script>
  <style>*, *::before, *::after {
    box-sizing: border-box;
    font-family: Gotham Rounded, sans-serif;
    font-weight: normal;
  }
  
  body {
    padding: 0;
    margin: 0;
    background: linear-gradient(to right, #ff9966, #ff5e62);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  
  .calculator-grid {
    display: grid;
    justify-content: center;
    align-content: center;
    grid-template-columns: repeat(4, 80px);
    grid-template-rows: minmax(100px, auto) repeat(5, 80px);
    background-color: rgba(255, 255, 255, 0.15);
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }
  
  .search-column {
    background-color: rgba(255, 255, 255, 0.15);
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 300px;
  }
  
  .search-column h2 {
    color: white;
    margin-bottom: 20px;
  }
  
  .search-column form {
    width: 100%;
  }
  
  .search-column input[type="text"] {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 5px;
    margin-bottom: 10px;
  }
  
  .search-column input[type="submit"] {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 5px;
    background-color: #4285f4;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  
  .search-column input[type="submit"]:hover {
    background-color: #357ae8;
  }
  
  .calculator-grid > button {
    cursor: pointer;
    font-size: 1.5rem;
    border: none;
    outline: none;
    background-color: rgba(255, 255, 255, 0.75);
    border-radius: 10px;
    margin: 5px;
    transition: all 0.2s ease;
    color: #ff5e62;
  }
  
  .calculator-grid > button:hover {
    background-color: rgba(255, 255, 255, 0.9);
    transform: translateY(-2px);
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
  }
  
  .calculator-grid > button:active {
    transform: scale(0.95);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }
  
  @keyframes buttonClick {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
  }
  
  .button-click {
    animation: buttonClick 0.15s ease;
  }
  
  .span-two {
    grid-column: span 2;
    background-color: rgba(255, 94, 98, 0.75) !important;
    color: white !important;
  }
  
  .output {
    grid-column: 1 / -1;
    background-color: rgba(0, 0, 0, 0.75);
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    flex-direction: column;
    padding: 20px;
    word-wrap: break-word;
    word-break: break-all;
    border-radius: 10px;
    margin-bottom: 10px;
    box-shadow: inset 0 5px 10px rgba(0, 0, 0, 0.3);
  }
  
  .output .previous-operand {
    color: rgba(255, 255, 255, 0.75);
    font-size: 1.2rem;
  }
  
  .output .current-operand {
    color: white;
    font-size: 2rem;
  }
  
  .ad-column {
    background-color: rgba(255, 255, 255, 0.15);
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 200px;
    height: 400px;
    color: white;
    text-align: center;
  }
  
  .ad-column h2 {
    margin-bottom: 20px;
  }
  
  .ad-column img {
    width: 150px;
    height: 150px;
    object-fit: cover;
    border-radius: 10px;
    margin-bottom: 20px;
  }
  
  .ad-column p {
    margin-bottom: 20px;
  }
  
  .ad-column button {
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  
  .ad-column button:hover {
    background-color: #45a049;
  }
  
  .modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.4);
  }
  
  .modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    max-width: 500px;
    border-radius: 10px;
  }
  
  .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }
  
  .close:hover,
  .close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }
  
  .calculator-container {
    position: relative;
    display: inline-block;
  }
  
  #about-btn {
    position: absolute;
    bottom: 10px;
    left: 10px;
    padding: 5px 10px;
    font-size: 0.8rem;
    background-color: rgba(255, 255, 255, 0.6);
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  
  #about-btn:hover {
    background-color: rgba(255, 255, 255, 0.8);
  }
  
  .page-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    min-height: 100vh;
    padding: 20px;
  }
  
  #about-btn {
    padding: 10px 15px;
    font-size: 1rem;
    background-color: rgba(255, 255, 255, 0.6);
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    height: fit-content;
  }
  
  #about-btn:hover {
    background-color: rgba(255, 255, 255, 0.8);
  }
  
  .page-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    min-height: 100vh;
    padding: 20px;
  }
  
  .left-column {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }
  
  #logo {
    width: 100px; /* Adjust as needed */
    height: auto;
    margin-bottom: 10px;
  }
  
  #about-btn {
    padding: 10px 15px;
    font-size: 1rem;
    background-color: rgba(255, 255, 255, 0.6);
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  
  #about-btn:hover {
    background-color: rgba(255, 255, 255, 0.8);
  }
  
  /* Modal styles remain the same */
  #character-art {
    width: 200px;
    height: auto;
    object-fit: cover;
    border-radius: 10px;
    margin-bottom: 10px;
  }
  </style>
</head>
<body>
  <div class="page-container">
    <div class="left-column">
      <img id="character-art" src="https://raw.githubusercontent.com/heralt-vernandes/percobaan-calculator-dua/main/illust_122940393_20241001_163709.jpg" alt="Character Art">
      <button id="about-btn">About</button>
    </div>
    <div class="calculator-grid">
      <div class="output">
        <div data-previous-operand class="previous-operand"></div>
        <div data-current-operand class="current-operand"></div>
      </div>
      <button data-all-clear class="span-two">AC</button>
      <button data-delete>DEL</button>
      <button data-operation>÷</button>
      <button data-operation>^</button>
      <button data-operation>√</button>
      <button data-operation>%</button>
      <button data-operation>*</button>
      <button data-number>7</button>
      <button data-number>8</button>
      <button data-number>9</button>
      <button data-operation>-</button>
      <button data-number>4</button>
      <button data-number>5</button>
      <button data-number>6</button>
      <button data-operation>+</button>
      <button data-number>1</button>
      <button data-number>2</button>
      <button data-number>3</button>
      <button data-sign>+/-</button>
      <button data-number>.</button>
      <button data-number>0</button>
      <button data-equals class="span-two">=</button>
    </div>
  </div>
  
  <!-- New About modal -->
  <div id="about-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>About This Calculator</h2>
      <p>Created by: Gerald Ibrani</p>
      <p>This calculator was developed as a school project to demonstrate JavaScript skills and basic web development concepts.</p>
      <p>Features include:</p>
      <ul>
        <li>Basic arithmetic operations</li>
        <li>Clear and delete functions</li>
        <li>Responsive design</li>
      </ul>
    </div>
  </div>
  
  <script>class Calculator {
    constructor(previousOperandTextElement, currentOperandTextElement) {
      this.previousOperandTextElement = previousOperandTextElement
      this.currentOperandTextElement = currentOperandTextElement
      this.clear()
    }
  
    clear() {
      this.currentOperand = ''
      this.previousOperand = ''
      this.operation = undefined
    }
  
    delete() {
      this.currentOperand = this.currentOperand.toString().slice(0, -1)
    }
  
    appendNumber(number) {
      if (number === '.' && this.currentOperand.includes('.')) return
      this.currentOperand = this.currentOperand.toString() + number.toString()
    }
  
    chooseOperation(operation) {
      if (this.currentOperand === '') return
      if (this.previousOperand !== '' && operation !== '√' && operation !== '%') {
        this.compute()
      }
      this.operation = operation
      if (operation === '√' || operation === '%') {
        this.compute()
      } else {
        this.previousOperand = this.currentOperand
        this.currentOperand = ''
      }
    }
  
    compute() {
      let computation
      const prev = parseFloat(this.previousOperand)
      const current = parseFloat(this.currentOperand)
      if (isNaN(prev) && isNaN(current)) return
      switch (this.operation) {
        case '+':
          computation = prev + current
          break
        case '-':
          computation = prev - current
          break
        case '*':
          computation = prev * current
          break
        case '÷':
          computation = prev / current
          break
        case '^':
          computation = Math.pow(prev, current)
          break
        case '√':
          computation = Math.sqrt(current)
          break
        case '%':
          computation = current / 100
          break
        default:
          return
      }
      this.currentOperand = computation
      this.operation = undefined
      this.previousOperand = ''
    }
  
    changeSign() {
      this.currentOperand = (parseFloat(this.currentOperand) * -1).toString()
    }
  
    getDisplayNumber(number) {
      const stringNumber = number.toString()
      const integerDigits = parseFloat(stringNumber.split('.')[0])
      const decimalDigits = stringNumber.split('.')[1]
      let integerDisplay
      if (isNaN(integerDigits)) {
        integerDisplay = ''
      } else {
        integerDisplay = integerDigits.toLocaleString('en', { maximumFractionDigits: 0 })
      }
      if (decimalDigits != null) {
        return `${integerDisplay}.${decimalDigits}`
      } else {
        return integerDisplay
      }
    }
  
    updateDisplay() {
      this.currentOperandTextElement.innerText =
        this.getDisplayNumber(this.currentOperand)
      if (this.operation != null) {
        this.previousOperandTextElement.innerText =
          `${this.getDisplayNumber(this.previousOperand)} ${this.operation}`
      } else {
        this.previousOperandTextElement.innerText = ''
      }
    }
  }
  
  const numberButtons = document.querySelectorAll('[data-number]')
  const operationButtons = document.querySelectorAll('[data-operation]')
  const equalsButton = document.querySelector('[data-equals]')
  const deleteButton = document.querySelector('[data-delete]')
  const allClearButton = document.querySelector('[data-all-clear]')
  const previousOperandTextElement = document.querySelector('[data-previous-operand]')
  const currentOperandTextElement = document.querySelector('[data-current-operand]')
  
  const calculator = new Calculator(previousOperandTextElement, currentOperandTextElement)
  
  function addClickAnimation(button) {
    button.addEventListener('click', () => {
      button.classList.add('button-click');
      setTimeout(() => {
        button.classList.remove('button-click');
      }, 150);
    });
  }
  
  numberButtons.forEach(button => {
    addClickAnimation(button);
    button.addEventListener('click', () => {
      calculator.appendNumber(button.innerText);
      calculator.updateDisplay();
    });
  });
  
  operationButtons.forEach(button => {
    addClickAnimation(button);
    button.addEventListener('click', () => {
      calculator.chooseOperation(button.innerText);
      calculator.updateDisplay();
    });
  });
  
  equalsButton.addEventListener('click', button => {
    addClickAnimation(equalsButton);
    calculator.compute();
    calculator.updateDisplay();
  });
  
  allClearButton.addEventListener('click', button => {
    addClickAnimation(allClearButton);
    calculator.clear();
    calculator.updateDisplay();
  });
  
  deleteButton.addEventListener('click', button => {
    addClickAnimation(deleteButton);
    calculator.delete();
    calculator.updateDisplay();
  });
  
  const signButton = document.querySelector('[data-sign]')
  
  signButton.addEventListener('click', button => {
    addClickAnimation(signButton);
    calculator.changeSign();
    calculator.updateDisplay();
  })
  
  // About modal functionality
  const aboutBtn = document.getElementById("about-btn");
  const aboutModal = document.getElementById("about-modal");
  const closeBtn = aboutModal.querySelector(".close");
  
  aboutBtn.onclick = function() {
    aboutModal.style.display = "block";
  }
  
  closeBtn.onclick = function() {
    aboutModal.style.display = "none";
  }
  
  window.onclick = function(event) {
    if (event.target == aboutModal) {
      aboutModal.style.display = "none";
    }
  }
  </script>
</body>
</html>
